(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{113:function(t,e,a){"use strict";a.r(e);var r=a(33),o=a.n(r),s=a(34),n={props:{routes:{type:Array,required:!0}}},i=(a(174),a(2)),l=Object(i.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"nav"},t._l(t.routes,(function(e){var r=e.name,o=e.path,s=e.meta;return a("li",{key:r,staticClass:"nav__item"},[a("router-link",{staticClass:"nav__link",attrs:{to:o,"active-class":"nav__link--active"}},[t._v(t._s(t.$t(s.i18n.label)))])],1)})),0)}),[],!1,null,"99dc44e2",null).exports,c={props:{color:{type:String,required:!0}},computed:{classes:function(){return["icon-circle","icon-circle--".concat(this.color)]}}},u=(a(176),Object(i.a)(c,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("i",{class:t.classes},[a("ui-icon",t._b({},"ui-icon",t.$attrs,!1))],1)}),[],!1,null,"0a92deda",null).exports),d=a(116),p=a(188),f=a(189),b=a(125),m=a(152),_=a(186),h=a(183),O=a(184),v=a(185),y=a(4);function g(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function w(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?g(Object(a),!0).forEach((function(e){o()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var $={props:{name:{type:String,default:"addOperation"},options:[Object,null],editable:Boolean},data:function(){var t={type:null,date:null,area:null,comment:null,assessment:null};return{formId:Object(d.a)("operation_"),operation:t,errors:Object(p.a)(t,["type","date","area"]),typeOptions:[{label:this.$t("plowing"),value:y.b.PLOWING},{label:this.$t("bowling"),value:y.b.BOWLING},{label:this.$t("fertilization"),value:y.b.FERTILIZATION},{label:this.$t("watering"),value:y.b.WATERING},{label:this.$t("rigging"),value:y.b.RIGGING},{label:this.$t("harvesting"),value:y.b.HARVESTING}],assessmentOptions:y.a}},computed:{excellentLabel:function(){return this.sliceLabel(this.$t("excellent"))},satisfactorilyLabel:function(){return this.sliceLabel(this.$t("satisfactorily"))},badlyLabel:function(){return this.sliceLabel(this.$t("badly"))},hasErrors:function(){var t=Object(f.a)(this.errors,b.a),e=Object(m.a)(t).length;return Boolean(e)},formData:function(){var t,e=Object(p.a)(this.operation,["type","area","comment","assessment"]),a=this.operation.date;return Object(_.a)(e,{id:null!==(t=this.operation.id)&&void 0!==t?t:null,date:{day:Object(h.a)(a),month:Object(O.a)(a)+1,year:Object(v.a)(a)}})}},watch:{options:{deep:!0,handler:function(t){if(t){var e=t.date,a=e.year,r=e.month,o=e.day;this.operation=Object(_.a)(this.operation,t,{date:new Date(a,r,o)}),this.errors=w(w({},this.errors),{},{assessment:null})}}},operation:{deep:!0,handler:function(){this.$emit("input",this.formData)}}},methods:{sliceLabel:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,a=t.slice(0,e);return a.length<t.length?"".concat(a,"."):a},clear:function(){for(var t in this.operation)this.operation[t]=null;for(var e in this.errors)this.errors[e]=null;this.$emit("close")},submit:function(){this.calculateErrors(),this.hasErrors||this.$emit("submit",this.formData)},calculateErrors:function(){for(var t in this.errors)this.errors[t]=null===this.operation[t]}}},j=(a(179),Object(i.a)($,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ui-modal",{staticClass:"add-modal",attrs:{name:t.name,title:t.$t("add_operation_2")},on:{submit:t.submit,close:t.clear},scopedSlots:t._u([{key:"default",fn:function(){return[a("form",{staticClass:"add-modal__content",attrs:{id:t.formId},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("div",{staticClass:"field add-modal__row"},[a("div",{staticClass:"field__color"}),a("div",{staticClass:"field__desc"},[a("span",{staticClass:"text-uppercase field__label"},[t._v(t._s(t.$t("field")))]),a("span",{staticClass:"field__title"},[t._v("112")])]),a("div",{staticClass:"field__info"},[a("span",{staticClass:"field__title field__title--normal"},[t._v(t._s(t.$t("winter_wheat")))]),a("span",{staticClass:"text-uppercase field__label"},[t._v(t._s(t.$t("victory"))+" 50")])]),a("ui-icon",{staticClass:"field__icon",attrs:{name:"wheat",size:"34"}})],1),a("div",{staticClass:"settings add-modal__row",class:{"settings--editable":t.editable}},[a("div",{staticClass:"settings__field"},[a("ui-dropdown",{attrs:{options:t.typeOptions,label:t.$t("operation"),error:t.errors.type},model:{value:t.operation.type,callback:function(e){t.$set(t.operation,"type",e)},expression:"operation.type"}})],1),a("div",{staticClass:"settings__field settings__field--row"},[a("ui-datepicker",{staticClass:"settings__datepicker",attrs:{label:t.$t("date_of"),error:t.errors.date},model:{value:t.operation.date,callback:function(e){t.$set(t.operation,"date",e)},expression:"operation.date"}}),a("ui-input",{staticClass:"settings__input",attrs:{label:t.$t("qty_of_ha_for_processing"),error:t.errors.area},model:{value:t.operation.area,callback:function(e){t.$set(t.operation,"area",t._n(e))},expression:"operation.area"}})],1)]),a("div",{staticClass:"comment add-modal__row"},[a("ui-textarea",{attrs:{placeholder:t.$t("comment_operation")+" ...",rows:"6"},model:{value:t.operation.comment,callback:function(e){t.$set(t.operation,"comment",e)},expression:"operation.comment"}})],1),t.editable?a("div",{staticClass:"quality add-modal__row"},[a("ui-title",{staticClass:"text-uppercase",attrs:{level:"6"}},[t._v(t._s(t.$t("quality_of_operation")))]),a("ui-btn-group",{attrs:{error:t.errors.assessment},model:{value:t.operation.assessment,callback:function(e){t.$set(t.operation,"assessment",e)},expression:"operation.assessment"}},[a("ui-btn-group-item",{attrs:{value:t.assessmentOptions.EXCELLENT,label:t.excellentLabel,color:"green"}}),a("ui-btn-group-item",{attrs:{value:t.assessmentOptions.SATISFACTORILY,label:t.satisfactorilyLabel,color:"yellow"}}),a("ui-btn-group-item",{attrs:{value:t.assessmentOptions.BADLY,label:t.badlyLabel,color:"red"}})],1)],1):t._e()])]},proxy:!0},{key:"footer",fn:function(){return[a("ui-btn",{staticClass:"text-uppercase add-modal__submit",attrs:{form:t.formId,label:t.editable?t.$t("perform_operation"):t.$t("add_operation"),color:t.editable?"yellow":"green",type:"submit",fit:""}})]},proxy:!0}])})}),[],!1,null,"275ba335",null).exports),C=a(45);function x(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function E(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?x(Object(a),!0).forEach((function(e){o()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):x(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var P={components:{Navbar:l,IconCircle:u,ModalOperation:j},data:function(){return{routes:C.a,editableOperation:null,modals:{scheduled:"addScheduledOperation",performed:"addPerformedOperation"}}},computed:E(E({},Object(s.d)(["operations"])),{},{title:function(){return"".concat(this.$t("field_operations")," 112")},isScheduledOperations:function(){return"operations:scheduled"===this.$route.name}}),created:function(){this.LOAD_OPERATIONS()},methods:E(E({},Object(s.b)(["LOAD_OPERATIONS","ADD_OPERATION"])),{},{editOperation:function(t){this.editableOperation=t,this.$modal.show(this.modals.performed)},addOperation:function(t,e){this.ADD_OPERATION(t),this.LOAD_OPERATIONS(),this.$modal.close(e)}})},D=(a(181),Object(i.a)(P,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"operations"},[a("ui-title",{staticClass:"operations__title",attrs:{label:t.title}}),a("header",{staticClass:"operations__header"},[a("navbar",{attrs:{routes:t.routes}}),a("ui-btn",{directives:[{name:"show",rawName:"v-show",value:t.isScheduledOperations,expression:"isScheduledOperations"}],on:{click:function(e){return t.$modal.show(t.modals.scheduled)}},scopedSlots:t._u([{key:"icon",fn:function(){return[a("icon-circle",{attrs:{name:"plus",size:"8",color:"green"}})]},proxy:!0},{key:"default",fn:function(){return[t._v(t._s(t.$t("add_operation")))]},proxy:!0}])})],1),t.operations?a("div",{staticClass:"operations__content"},[a("router-view",{on:{edit:t.editOperation}})],1):t._e(),a("modal-operation",{attrs:{name:t.modals.scheduled},on:{submit:function(e){return t.addOperation(e,t.modals.scheduled)}}}),a("modal-operation",{attrs:{name:t.modals.performed,options:t.editableOperation,editable:""},on:{submit:function(e){return t.addOperation(e,t.modals.performed)},close:function(e){t.editableOperation=null}}})],1)}),[],!1,null,"70f51b68",null));e.default=D.exports},143:function(t,e,a){var r=a(175);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,a(5).default)("1fd95e1c",r,!0,{})},144:function(t,e,a){var r=a(177);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,a(5).default)("117935e8",r,!0,{})},147:function(t,e,a){var r=a(180);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,a(5).default)("363bc3d0",r,!0,{})},148:function(t,e,a){var r=a(182);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,a(5).default)("75689f31",r,!0,{})},174:function(t,e,a){"use strict";var r=a(143);a.n(r).a},175:function(t,e,a){},176:function(t,e,a){"use strict";var r=a(144);a.n(r).a},177:function(t,e,a){},179:function(t,e,a){"use strict";var r=a(147);a.n(r).a},180:function(t,e,a){},181:function(t,e,a){"use strict";var r=a(148);a.n(r).a},182:function(t,e,a){}}]);